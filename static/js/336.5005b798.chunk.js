(self.webpackChunk_kne_components_use_css_variables=self.webpackChunk_kne_components_use_css_variables||[]).push([[336],{39336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,manifest:()=>c});var o={};n.r(o),n.d(o,{default:()=>a});var r=n(49256),a=(n(56668),e=>{const t=(0,r.useRef)(new CSSStyleSheet),n=(0,r.useCallback)((()=>{const e=document.adoptedStyleSheets.slice(0),n=e.indexOf(t.current);n>-1&&e.splice(n,1),document.adoptedStyleSheets=e}),[]);return(0,r.useMemo)((()=>{t.current.replaceSync(":root{ ".concat(Object.keys(e).map((t=>"--".concat(t,":").concat(e[t],";"))).join("")," }")),n(),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t.current]}),[e,n]),(0,r.useEffect)((()=>()=>{n()}),[n]),n});const s={UseCssVariables:{name:"use-css-variables",summary:"<p>\u7528react\u7684state\u63a7\u5236css\u53d8\u91cf\uff0c\u907f\u514d\u5b57\u7b26\u4e32\u62fc\u63a5\u95ee\u9898\uff0c\u5168\u5c40\u751f\u6548</p>",description:"css-variables\u7684react\u7684hooks",packageName:"@kne/use-css-variables",api:"",example:{isFull:!1,className:"use_css_variables_22312",style:"",list:[{title:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u6807\u9898",description:"\u70b9\u51fb\u6309\u94aecss var var(--component-height)\u589e\u52a010px",code:"const {default: useCssVariables} = UseCssVariables;\nconst {Button, Space} = antd;\nconst {useState, useMemo} = React;\nconst Example = () => {\n    const [height, setHeight] = useState(40);\n\n    const cssVariables = useMemo(() => {\n        return {'component-height': `${height}px`};\n    }, [height]);\n\n    useCssVariables(cssVariables);\n    return (<Space direction=\"vertical\">\n        <Button onClick={() => {\n            setHeight((height) => height + 10);\n        }}>\u6309\u94ae</Button>\n        <div style={{\n            height: 'var(--component-height)', background: 'var(--primary-color)'\n        }}/>\n    </Space>);\n};\n\nrender(<Example/>);\n\n",scope:[{name:"UseCssVariables",packageName:"@kne/use-css-variables",component:o},{name:"antd",packageName:"antd",component:n(47544)}]}]}}},c={name:"use-css-variables",version:"0.1.1","open-version":!0,"public-url":"/use-css-variables",modules:[{name:"use-css-variables",baseDir:"/home/runner/work/use-css-variables/use-css-variables",description:"css-variables\u7684react\u7684hooks",packageName:"@kne/use-css-variables"}]}},56668:()=>{!function(){"use strict";if("undefined"!==typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!window.ShadyCSS.nativeShadow,t=[],n=[],o=[],r=new WeakMap,a=new WeakMap,s=new WeakMap,c=new WeakMap,i=new WeakMap,l=new WeakMap,d={loaded:!1},u={body:null,CSSStyleSheet:null},h=CSSStyleSheet,p=/@import/,S="Illegal invocation",m=function(){function e(){var e=document.createElement("style");d.loaded?u.body.appendChild(e):(document.head.appendChild(e),e.disabled=!0,t.push(e)),a.set(this,{adopters:new Map,actions:[],basicStyleElement:e})}var n,o,r,s=e.prototype;return s.replace=function(e){var t=b(e);try{if(!a.has(this))throw new TypeError(S);return a.get(this).basicStyleElement.innerHTML=t,w(this),Promise.resolve(this)}catch(n){return Promise.reject(n)}},s.replaceSync=function(e){var t=b(e);if(!a.has(this))throw new TypeError(S);return a.get(this).basicStyleElement.innerHTML=t,w(this),this},n=e,(o=[{key:"cssRules",get:function(){if(!a.has(this))throw new TypeError(S);return a.get(this).basicStyleElement.sheet.cssRules}}])&&f(n.prototype,o),r&&f(n,r),e}();["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"].forEach((function(e){m.prototype[e]=function(){if(!a.has(this))throw new TypeError(S);var t=arguments,n=a.get(this),o=n.adopters,r=n.actions,s=n.basicStyleElement,c=s.sheet[e].apply(s.sheet,t);return o.forEach((function(n){n.sheet&&n.sheet[e].apply(n.sheet,t)})),r.push([e,t]),c}})),Object.defineProperty(m,Symbol.hasInstance,{configurable:!0,value:C}),g(h.prototype),window.CSSStyleSheet=m,function(){var t={configurable:!0,get:function(){return r.get(this)||[]},set:function(e){var t=r.get(this)||[];!function(e,t){var n=t===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(C))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");var o=e.filter((function(t,n){return e.indexOf(t)===n}));r.set(t,o)}(e,this);var n=this===document?y()?this.head:this.body:this;("isConnected"in n?n.isConnected:document.body.contains(n))?window.requestAnimationFrame((function(){E(n),function(e,t){for(var n=v(e),o=0,r=t.length;o<r;o++)if(!(n.indexOf(t[o])>-1)){var s=a.get(t[o]).adopters,c=i.get(e),l=s.get(e);l||(l=s.get(document.head)),c.disconnect(),l.parentNode.removeChild(l),c.observe()}}(n,t)})):o.push(n)}};if(Object.defineProperty(Document.prototype,"adoptedStyleSheets",t),"undefined"!==typeof ShadowRoot){var n=Element.prototype.attachShadow;Element.prototype.attachShadow=function(){var t=e?this:n.apply(this,arguments);return c.set(this,t),M(t),t},Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",t)}}(),y()?document.addEventListener("DOMContentLoaded",T):T()}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(){return"loading"===document.readyState}function v(e){return r.get(e.parentNode===document.documentElement?document:e)}function b(e){void 0===e&&(e="");var t=e.match(p)||[],n=e;return t.length&&(console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.forEach((function(e){n=n.replace(e,"")}))),n}function g(e){e.replace=function(){return Promise.reject(new DOMException("Can't call replace on non-constructed CSSStyleSheets."))},e.replaceSync=function(){throw new DOMException("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")}}function w(e){var t=a.get(e),n=t.adopters,o=t.basicStyleElement;n.forEach((function(e){e.innerHTML=o.innerHTML}))}function C(e){return e&&e.constructor===m||e instanceof h||e instanceof u.CSSStyleSheet}function E(e){for(var t=document.createDocumentFragment(),o=v(e),r=i.get(e),c=0,d=o.length;c<d;c++){var u=a.get(o[c]),h=u.adopters,p=u.basicStyleElement,S=h.get(e);S?(r.disconnect(),t.appendChild(S),(!S.innerHTML||S.sheet&&!S.sheet.cssText)&&(S.innerHTML=p.innerHTML),r.observe()):((S=document.createElement("style")).innerHTML=p.innerHTML,s.set(S,e),l.set(S,0),h.set(e,S),t.appendChild(S)),e===document.head&&n.push(S)}e.insertBefore(t,e.lastChild);for(var m=0,f=o.length;m<f;m++){var y=a.get(o[m]),b=y.adopters,g=y.actions,w=b.get(e),C=l.get(w);if(g.length>0){for(var E=C,k=g.length;E<k;E++){var M=g[E],T=M[0],_=M[1];w.sheet[T].apply(w.sheet,_)}l.set(w,g.length-1)}}}function k(t){if(document)for(var n=0,o=t.length;n<o;n++){for(var r=t[n],a=r.addedNodes,i=r.removedNodes,l=0,d=i.length;l<d;l++){var u=s.get(i[l]);u&&E(u)}if(!e)for(var h=0,p=a.length;h<p;h++)for(var S=document.createNodeIterator(a[h],NodeFilter.SHOW_ELEMENT,(function(e){var t=c.get(e);return t&&t.adoptedStyleSheets.length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),m=void 0;m=S.nextNode();)E(c.get(m))}}function M(e){var t=new MutationObserver(k),n={observe:function(){t.observe(e,{childList:!0,subtree:!0})},disconnect:function(){t.disconnect()}};i.set(e,n),n.observe()}function T(){var e=document.createElement("iframe");e.hidden=!0,document.body.appendChild(e),u.body=e.contentWindow.document.body,u.CSSStyleSheet=e.contentWindow.CSSStyleSheet,g(e.contentWindow.CSSStyleSheet.prototype),M(document.body),d.loaded=!0;for(var r=document.createDocumentFragment(),a=0,s=t.length;a<s;a++)t[a].disabled=!1,r.appendChild(t[a]);u.body.appendChild(r);for(var c=0,i=n.length;c<i;c++)r.appendChild(n[c]);document.body.insertBefore(r,document.body.firstChild);for(var l=0,h=o.length;l<h;l++)E(o[l]);o.length=0,t.length=0,n.length=0}}()}}]);
//# sourceMappingURL=336.5005b798.chunk.js.map